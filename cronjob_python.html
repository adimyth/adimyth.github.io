<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Custom JS -->
    <script src="assets/js/highlight.pack.js"></script>

    <!-- Google Font-->
    <link href="//fonts.googleapis.com/css?family=Roboto" rel="stylesheet">


    <title>MultiProcessing in Python</title>
</head>

<body class="container">
    <h1 id="cronjob">Cronjob</h1>

    <p>The timing syntax for cronjob has 5 entries:</p>

    <ul>
        <li>minute</li>

        <li>hour</li>

        <li>day of month</li>

        <li>month</li>

        <li>day of week
            Asterisks(*) in the timing syntax indicate it will run every time. </li>
    </ul>

    <h4 id="properties">Properties</h4>

    <ul>
        <li>If your system is turned off when a crontab entry should run then it will be missed.</li>

        <li>Cron is suitable for running scheduled tasks on machines that will run continuously 24x7 such as servers.
        </li>

        <li>Anacron is appropriate for running daily, weekly and monthly scheduled jobs normally run by cron, on
            machines that will not run 24x7 such as laptops and desktops.</li>

        <li>Cron allows you to run scheduled jobs every minute, while Anacron allows you to run scheduled jobs on daily
            basis.</li>

        <li>Cron runs as a daemon, that is runs without user interaction and waits for certain events to occur. Cron
            runs in the background and checks its configuration file (/etc/crontab) once every minute to see if an event
            is scheduled to run that minute.</li>
    </ul>

    <h4 id="creatingacronjob">Creating a cronjob</h4>

    <pre><code class="python language-python">
            from crontab import CronTab
            import os
            
            def create_cron_job(command, comment, minute):
                cron_obj = CronTab(user=os.environ.get('USER'))
                cron_job = cron_obj.new(command=command, comment=comment)
                cron_job.minute.every(minute)
                cron_obj.write()
            
            create_cron_job(command='preprocess &amp;&amp; report', comment='reporting', minute=10)
        </code></pre>

    <h4 id="updatingtimeforacronjob">Updating time for a cron job</h4>

    <pre><code class="python language-python">
            def update_cron_job(comment, minute):
                user_cron_jobs = CronTab(user=os.environ.get('USER'))
                for job in user_cron_jobs:
                    if job.comment == comment:
                        job.minute.every(minute)
                        user_cron_jobs.write()
            
            update_cron_job(comment='reporting', minute=10)
        </code></pre>

    <h4 id="deletingacronjob">Deleting a cron job</h4>

    <pre><code class="python language-python">
            def delete_cron_job(comment):
                user_cron_jobs = CronTab(user=os.environ.get('USER'))
                user_cron_jobs.remove(comment = comment)
                user_cron_jobs.write()
            
            delete_cron_job('reporting')
        </code></pre>

    <h3 id="monitoringacronjob">Monitoring a cronjob</h3>

    <p><a href="https://stackoverflow.com/questions/4883069/debugging-crontab-jobs">StackOverflow</a>
        <code>tail -n 5 -f /var/log/cron.log</code></p>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>